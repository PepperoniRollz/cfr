{{block "index" .}}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuhn AI</title>
    <!-- HTMX CDN -->
    <script src="https://unpkg.com/htmx.org@1.8.1/dist/htmx.min.js"></script>
    <link rel="stylesheet" href="style.css?v=1.2">

</head>
<title>Kuhn AI</title>
<body>
    {{ template "start" .}}
    <hr/>
    <div>
    </div>
    {{ template "dashboard" .}}
    <hr/>
</body>
</html>
{{end}}

{{block "start" .}}
<h1>Kuhn AI</h1>
<p>Let's play Kuhn Poker!</h1>
    <p>We're going to play Kuhn Poker against RoboDurrr.  You'll be player 1 permanently until I fix this, meaning you'll have first action...Always</p>
    <p>Rules: You and RoboDurrr will be dealt 1 of 3 cards, a Jack, a Queen, a King.</p>
    <p>There will be one round of betting after antes are placed.  You'll receive a card and then check or bet 1 dollar or peso or something.</p>
    <p>After checking or betting, RoboDurrr will have the option to check or bet.  If you both check, or if you bet and get called, the higher card wins.</p>
    <p>If you fold...you lose.</p>
    <button hx-post="/start" hx-swap="outerHTML" hx-target="#dash">Start Game!</button>
{{end}}

{{block "dashboard" .}}
<div  id="dash">
    <h2>Dashboard</h2>
    <div>Your stack: {{.PlayerStack}}</div>
    <div>RoboDurrr stack: {{.AiStack}}</div>
    <div>Your card: {{.PlayerCard}}</div>
    <div>RoboDurrr card: {{.AiCard}}</div>
    <div>Current Pot: {{.Pot}}</div>
    <div>Hand number: {{.HandNumber}}</div>
    <button hx-post="/pass" hx-swap="outerHTML" hx-target="#dash">check/fold</button>
    <button hx-post="/bet" hx-swap="outerHTML" hx-target="#dash">bet/call</button>
    <div>
        <h2 id="idk">Gamelog</h2>
        <textarea readonly rows="15"cols="50" >{{.GameLog.Log}}</textarea>
    </div>
</div>
{{end}}
